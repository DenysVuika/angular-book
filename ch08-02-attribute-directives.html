<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Attribute Directives - Angular Book</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">The Angular Book</a></li><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-prerequisites.html"><strong aria-hidden="true">1.</strong> Prerequisites</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-node.html"><strong aria-hidden="true">1.1.</strong> Node</a></li><li class="chapter-item expanded "><a href="ch01-02-vscode.html"><strong aria-hidden="true">1.2.</strong> Visual Studio Code</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-es6.html"><strong aria-hidden="true">2.</strong> ES6</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-classes.html"><strong aria-hidden="true">2.1.</strong> Classes</a></li><li class="chapter-item expanded "><a href="ch02-02-inheritance.html"><strong aria-hidden="true">2.2.</strong> Inheritance</a></li><li class="chapter-item expanded "><a href="ch02-03-arrow-functions.html"><strong aria-hidden="true">2.3.</strong> Arrow Functions</a></li><li class="chapter-item expanded "><a href="ch02-04-template-literals.html"><strong aria-hidden="true">2.4.</strong> Template Literals</a></li><li class="chapter-item expanded "><a href="ch02-05-extended-parameters.html"><strong aria-hidden="true">2.5.</strong> Extended Parameter Handling</a></li><li class="chapter-item expanded "><a href="ch02-06-destructuring.html"><strong aria-hidden="true">2.6.</strong> Destructuring Assignment</a></li><li class="chapter-item expanded "><a href="ch02-07-modules.html"><strong aria-hidden="true">2.7.</strong> Modules</a></li><li class="chapter-item expanded "><a href="ch02-08-see-also.html"><strong aria-hidden="true">2.8.</strong> See Also</a></li></ol></li><li class="chapter-item expanded "><a href="ch03-00-typescript.html"><strong aria-hidden="true">3.</strong> TypeScript</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-getting-started.html"><strong aria-hidden="true">3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="ch03-02-features.html"><strong aria-hidden="true">3.2.</strong> TypeScript Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-03-types.html"><strong aria-hidden="true">3.2.1.</strong> Types</a></li><li class="chapter-item expanded "><a href="ch03-04-classes.html"><strong aria-hidden="true">3.2.2.</strong> Classes</a></li><li class="chapter-item expanded "><a href="ch03-05-interfaces.html"><strong aria-hidden="true">3.2.3.</strong> Interfaces</a></li><li class="chapter-item expanded "><a href="ch03-06-abstract-classes.html"><strong aria-hidden="true">3.2.4.</strong> Abstract Classes</a></li><li class="chapter-item expanded "><a href="ch03-07-modules.html"><strong aria-hidden="true">3.2.5.</strong> Modules</a></li><li class="chapter-item expanded "><a href="ch03-08-decorators.html"><strong aria-hidden="true">3.2.6.</strong> Decorators</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-angular-cli.html"><strong aria-hidden="true">4.</strong> Angular CLI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-installing.html"><strong aria-hidden="true">4.1.</strong> Installing</a></li><li class="chapter-item expanded "><a href="ch04-02-first-application.html"><strong aria-hidden="true">4.2.</strong> Your First Application</a></li><li class="chapter-item expanded "><a href="ch04-03-running-application.html"><strong aria-hidden="true">4.3.</strong> Running Application</a></li><li class="chapter-item expanded "><a href="ch04-04-linting.html"><strong aria-hidden="true">4.4.</strong> Code Linting</a></li><li class="chapter-item expanded "><a href="ch04-05-testing.html"><strong aria-hidden="true">4.5.</strong> Unit Tests</a></li><li class="chapter-item expanded "><a href="ch04-06-coverage.html"><strong aria-hidden="true">4.6.</strong> Code Coverage</a></li><li class="chapter-item expanded "><a href="ch04-07-development-and-production-builds.html"><strong aria-hidden="true">4.7.</strong> Development and Production Builds</a></li><li class="chapter-item expanded "><a href="ch04-08-using-blueprints.html"><strong aria-hidden="true">4.8.</strong> Using Blueprints</a></li><li class="chapter-item expanded "><a href="ch04-09-creating-modules.html"><strong aria-hidden="true">4.9.</strong> Creating Modules</a></li><li class="chapter-item expanded "><a href="ch04-10-routing-support.html"><strong aria-hidden="true">4.10.</strong> Routing Support</a></li><li class="chapter-item expanded "><a href="ch04-11-generating-standalone-scripts.html"><strong aria-hidden="true">4.11.</strong> Generating Standalone Scripts</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-angular.html"><strong aria-hidden="true">5.</strong> Angular</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-components.html"><strong aria-hidden="true">5.1.</strong> Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-02-creating-a-simple-component.html"><strong aria-hidden="true">5.1.1.</strong> Creating a Simple Component</a></li><li class="chapter-item expanded "><a href="ch05-03-generating-components-with-angular-cli.html"><strong aria-hidden="true">5.1.2.</strong> Generating Components with Angular CLI</a></li><li class="chapter-item expanded "><a href="ch05-04-component-metadata.html"><strong aria-hidden="true">5.1.3.</strong> Component Metadata</a></li><li class="chapter-item expanded "><a href="ch05-05-templates.html"><strong aria-hidden="true">5.1.4.</strong> Templates</a></li><li class="chapter-item expanded "><a href="ch05-06-styles.html"><strong aria-hidden="true">5.1.5.</strong> Styles</a></li><li class="chapter-item expanded "><a href="ch05-07-input-properties.html"><strong aria-hidden="true">5.1.6.</strong> Input Properties</a></li><li class="chapter-item expanded "><a href="ch05-08-output-events.html"><strong aria-hidden="true">5.1.7.</strong> Output Events</a></li><li class="chapter-item expanded "><a href="ch05-09-providers.html"><strong aria-hidden="true">5.1.8.</strong> Providers</a></li><li class="chapter-item expanded "><a href="ch05-10-host.html"><strong aria-hidden="true">5.1.9.</strong> Host</a></li><li class="chapter-item expanded "><a href="ch05-11-queries.html"><strong aria-hidden="true">5.1.10.</strong> Queries</a></li><li class="chapter-item expanded "><a href="ch05-12-component-lifecycle.html"><strong aria-hidden="true">5.1.11.</strong> Component Lifecycle</a></li><li class="chapter-item expanded "><a href="ch05-13-content-projection.html"><strong aria-hidden="true">5.1.12.</strong> Content Projection</a></li></ol></li><li class="chapter-item expanded "><a href="ch06-00-dependency-injection.html"><strong aria-hidden="true">5.2.</strong> Dependency Injection</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch06-01-preparing-a-project.html"><strong aria-hidden="true">5.2.1.</strong> Preparing a Project</a></li><li class="chapter-item expanded "><a href="ch06-02-services.html"><strong aria-hidden="true">5.2.2.</strong> Services</a></li><li class="chapter-item expanded "><a href="ch06-03-providers.html"><strong aria-hidden="true">5.2.3.</strong> Providers</a></li><li class="chapter-item expanded "><a href="ch06-04-injection-tokens.html"><strong aria-hidden="true">5.2.4.</strong> Injection Tokens</a></li><li class="chapter-item expanded "><a href="ch06-05-injecting-multiple-instances.html"><strong aria-hidden="true">5.2.5.</strong> Injecting Multiple Instances</a></li><li class="chapter-item expanded "><a href="ch06-06-optional-dependencies.html"><strong aria-hidden="true">5.2.6.</strong> Optional Dependencies</a></li><li class="chapter-item expanded "><a href="ch06-07-manual-injection.html"><strong aria-hidden="true">5.2.7.</strong> Manual Injection</a></li><li class="chapter-item expanded "><a href="ch06-08-summary.html"><strong aria-hidden="true">5.2.8.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="ch07-00-events.html"><strong aria-hidden="true">5.3.</strong> Events</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch07-01-component-events.html"><strong aria-hidden="true">5.3.1.</strong> Component Events</a></li><li class="chapter-item expanded "><a href="ch07-02-dom-events.html"><strong aria-hidden="true">5.3.2.</strong> DOM Events</a></li><li class="chapter-item expanded "><a href="ch07-03-service-events.html"><strong aria-hidden="true">5.3.3.</strong> Service Events</a></li></ol></li><li class="chapter-item expanded "><a href="ch08-00-directives.html"><strong aria-hidden="true">5.4.</strong> Directives</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch08-01-introduction-to-directives.html"><strong aria-hidden="true">5.4.1.</strong> Introduction to Directives</a></li><li class="chapter-item expanded "><a href="ch08-02-attribute-directives.html" class="active"><strong aria-hidden="true">5.4.2.</strong> Attribute Directives</a></li><li class="chapter-item expanded "><a href="ch08-03-structural-directives.html"><strong aria-hidden="true">5.4.3.</strong> Structural Directives</a></li><li class="chapter-item expanded "><a href="ch08-04-modifying-host-layout.html"><strong aria-hidden="true">5.4.4.</strong> Modifying Host Element Layout</a></li><li class="chapter-item expanded "><a href="ch08-05-walkthrough-upload-directive.html"><strong aria-hidden="true">5.4.5.</strong> Walkthrough: Upload Directive</a></li></ol></li><li class="chapter-item expanded "><a href="ch09-00-pipes.html"><strong aria-hidden="true">5.5.</strong> Pipes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch09-01-pipes-with-parameters.html"><strong aria-hidden="true">5.5.1.</strong> Pipes with Parameters</a></li><li class="chapter-item expanded "><a href="ch09-02-chaining-pipes.html"><strong aria-hidden="true">5.5.2.</strong> Chaining Pipes</a></li><li class="chapter-item expanded "><a href="ch09-03-built-in-pipes.html"><strong aria-hidden="true">5.5.3.</strong> Built-in Pipes</a></li><li class="chapter-item expanded "><a href="ch09-04-custom-pipes.html"><strong aria-hidden="true">5.5.4.</strong> Custom Pipes</a></li><li class="chapter-item expanded "><a href="ch09-05-pure-and-impure-pipes.html"><strong aria-hidden="true">5.5.5.</strong> Pure And Impure Pipes</a></li></ol></li><li class="chapter-item expanded "><a href="ch10-00-global-application-configuration.html"><strong aria-hidden="true">5.6.</strong> Global Application Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch10-01-preparing-configuration-file.html"><strong aria-hidden="true">5.6.1.</strong> Preparing the Configuration File</a></li><li class="chapter-item expanded "><a href="ch10-02-creating-configuration-service.html"><strong aria-hidden="true">5.6.2.</strong> Creating the Configuration Service</a></li><li class="chapter-item expanded "><a href="ch10-03-loading-configuration-file.html"><strong aria-hidden="true">5.6.3.</strong> Loading Server-Side Configuration File</a></li><li class="chapter-item expanded "><a href="ch10-04-registering-configuration-service.html"><strong aria-hidden="true">5.6.4.</strong> Registering Configuration Service</a></li><li class="chapter-item expanded "><a href="ch10-05-using-configuration-settings.html"><strong aria-hidden="true">5.6.5.</strong> Using Configuration Settings</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.</strong> Internationalisation (i18n)</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.1.</strong> Creating Translate Service</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.2.</strong> Creating Translate Pipe</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.3.</strong> Using Translate Pipe</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.4.</strong> Switching Languages</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.5.</strong> Summary</div></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Reusable Component Libraries</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Creating new application</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Creating component libraries</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Building the packages</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> Publishing to NPM</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.5.</strong> See also</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Advanced Angular</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Dynamic Content in Angular</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Using with Docker</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Additional Resources</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> Preparing new project</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> Creating Dockerfile</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.4.</strong> Testing in a container</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.5.</strong> Creating docker-compose.yml</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.6.</strong> Consuming from Docker Hub</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.7.</strong> Automating with Travis</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.8.</strong> See also</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Webpack</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> Initial project structure</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Typescript configuration</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> Basic webpack setup</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> Advanced webpack setup</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.5.</strong> Unit testing</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Building a Mobile App with Cordova and Angular</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Installing command-line tools</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.2.</strong> Generating a new Angular App</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.3.</strong> Routing support</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.4.</strong> Summary</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Angular Book</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/DenysVuika/angular-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="attribute-directives"><a class="header" href="#attribute-directives">Attribute Directives</a></h2>
<p>Attribute directives change appearance or behavior of a host DOM element.
Usually, they look like regular HTML element attributes.</p>
<p>Let's create a simple clickable directive and call it <code>Clickme</code>.</p>
<pre><code class="language-sh">ng g directive directives/clickme
</code></pre>
<p>Angular CLI generates directive with unit test and updates main application module:</p>
<pre><code class="language-sh">installing directive
  create src/app/directives/clickme.directive.spec.ts
  create src/app/directives/clickme.directive.ts
  update src/app/app.module.ts
</code></pre>
<p>Initial implementation should look like the following one:</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts

import { Directive } from '@angular/core';

@Directive({
  selector: '[appClickme]'
})
export class ClickmeDirective {

  constructor() { }

}
</code></pre>
<p>Directives can interact with the host by listening to events and setting properties of the target element.</p>
<h3 id="handling-host-events"><a class="header" href="#handling-host-events">Handling host events</a></h3>
<p>Your newly created directive can listen to events with the help of the <code>HostListener</code> decorator.
Angular invokes decorated method when the host element emits a corresponding event.</p>
<p>The format of the <code>HostListener</code> decorator and metadata is as following:</p>
<pre><code class="language-ts">interface HostListener {

  eventName : string
  args : string[]

}
</code></pre>
<p>You can use it to decorate class methods like shown below:</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts

@HostListener('domEvent', ['$event'])
onEvent(event) {
  // ...
}
</code></pre>
<p>Angular should be listening for the 'domEvent' event (if supported by host element)
and invoke <code>onEvent</code> method of the directive controller.</p>
<p>The event handler is also going to get a reference to the original DOM event,
as we instruct Angular to map specific <code>$event</code> argument to the <code>event</code> parameter.
That means directive can inspect properties of the original event
and even prevent default behavior or event bubbling if necessary.</p>
<p>The easiest way to demonstrate <code>HostListener</code> in action is by wiring a standard <code>click</code> event.</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts

import { /*...,*/ HostListener } from '@angular/core';

...
export class ClickmeDirective {
    // ...
    
    @HostListener('click', ['$event'])
    onClicked(e: Event) {
        console.log(e);
        alert('Clicked');
    }
}
</code></pre>
<p>Next put a <code>div</code> element to the <code>app.component.html</code> and decorate it with your <code>appHighlight</code> directive:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;h1&gt;
  {{title}}
&lt;/h1&gt;

&lt;div class=&quot;click-area&quot; appClickme&gt;
  Click me
&lt;/div&gt;
</code></pre>
<p>You also need to have some space to click on; this is what we are going to use <code>highlight-area</code> CSS class for:</p>
<pre><code class="language-css">/* src/app/app.component.css */

.click-area {
  width: 100px;
  height: 100px;
  background-color: beige;
}
</code></pre>
<p>Below is how the main page looks like after your changes:</p>
<p><img src="images/directives-clickme-01.png" alt="" /></p>
<p>You get the default 'app works!' label generated by the Angular CLI, and coloured <code>div</code> element.
Now if you click anywhere on the beige area the browser should display an alert: </p>
<p><img src="images/directives-clickme-02.png" alt="" /></p>
<p>So as you can see in the example above, with the help of <code>HostListener</code>, you can listen to any event emitted by host element.
We have added <code>appClickme</code> directive as an attribute of the <code>div</code>, 
and every click on the <code>div</code> automatically triggers <code>onClicked</code> method in the <code>ClickmeDirective</code>.</p>
<p>You can use any target for the directive, for example:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;button appClickme&gt;Click me&lt;/button&gt;
&lt;span appClickme&gt;Click me&lt;/span&gt;
&lt;input type=&quot;text&quot; appClickme&gt;
</code></pre>
<h3 id="host-members-binding"><a class="header" href="#host-members-binding">Host members binding</a></h3>
<p>Angular also provides a way for a directive to change host properties by using a <code>HostBinding</code> decorator.</p>
<p>During change detection cycle Angular checks all property bindings and updates host element of the directive if bound value changes.</p>
<p>The format of the HostBinding decorator and metadata is as following:</p>
<pre><code class="language-ts">interface HostBinding {

  hostPropertyName : string

}
</code></pre>
<p>You can use this decorator to change:</p>
<ul>
<li>
<p>attributes (applies to all elements)</p>
<p><code>@HostBinding('attr.text)</code></p>
</li>
<li>
<p>properties (corresponding properties must exist)</p>
<p><code>@HostBinding('title')</code></p>
</li>
<li>
<p>style values (applies to all elements)</p>
<p><code>@HostBinding('style.background-color')</code></p>
</li>
<li>
<p>class names (applies to all elements)</p>
<p><code>@HostBinding('class.some-class-name')</code></p>
</li>
</ul>
<h4 id="binding-element-attributes"><a class="header" href="#binding-element-attributes">Binding element attributes</a></h4>
<p>If you want your directive to change element attributes, you can use this decorator with class methods like below:</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts

export class ClickmeDirective {

    @HostBinding('attr.propertyName')
    myProperty: string = 'hello world';

}
</code></pre>
<p>For example, if you apply directive to a <code>div</code> element, the property binding should cause the following attributes rendering at run time:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;div appclickme=&quot;&quot; propertyName=&quot;hello world&quot;&gt;&lt;/div&gt;
</code></pre>
<p>Please note that if host property name parameter is not defined, then a class property name should be taken as a fallback value.</p>
<pre><code class="language-ts">@HostBinding()
title: string = 'element title';
</code></pre>
<p>This time, if you apply the directive to the <code>input</code> element, for instance, you should see the <code>title</code> property name as an attribute of the host:</p>
<pre><code class="language-ts">&lt;input appclickme=&quot;&quot; type=&quot;text&quot; title=&quot;element title&quot;&gt;
</code></pre>
<h4 id="binding-element-properties"><a class="header" href="#binding-element-properties">Binding element properties</a></h4>
<p>Keep in mind that in this case, the property should exist for a given element.
Angular should throw an error if you try to bind a missing property.</p>
<p>Let's try to bind a <code>value</code> property to demonstrate this behavior.</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts
// ...
export class ClickmeDirective {

  @HostBinding()
  value: string = 'input value';

  // ...
}
</code></pre>
<p>You may still have a click area example on the main page, or you can do it once again:</p>
<pre><code class="language-html">&lt;div class=&quot;click-area&quot; appClickme&gt;
</code></pre>
<p>Angular should produce an error when page compiles and reloads:</p>
<pre><code class="language-text">Error: Uncaught (in promise): Error: Template parse errors:
Can't bind to 'value' since it isn't a known property of 'div'.

[ERROR -&gt;]&lt;div class=&quot;click-area&quot; appClickme&gt;
  Click me
&lt;/div&gt;
</code></pre>
<p>However, if you replace <code>div</code> with an <code>input</code> element that natively supports <code>value</code> property, you should get it rendered properly:</p>
<p><img src="images/directives-input-01.png" alt="" /> </p>
<p>You can, however, fix the issue and provide compatibility with all HTML elements by utilizing <code>attr.value</code> instead of <code>value</code> for the property binding:</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts
// ...
export class ClickmeDirective {

  @HostBinding('attr.value')
  value: string = 'input value';

  // ...
}
</code></pre>
<p>In this case you are going to get the following HTML when both <code>&lt;input&gt;</code> and <code>&lt;div&gt;</code> are present on the page:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;div appclickme=&quot;&quot; class=&quot;click-area&quot; value=&quot;input value&quot;&gt;
  Click me
&lt;/div&gt;

&lt;input appclickme=&quot;&quot; type=&quot;text&quot; value=&quot;input value&quot;&gt;
</code></pre>
<p>Your main application component page should now render without errors.</p>
<p><img src="images/directives-input-02.png" alt="" /></p>
<h4 id="binding-style-attributes"><a class="header" href="#binding-style-attributes">Binding style attributes</a></h4>
<p>You bind single style attribute values using <code>@HostBinding('style.&lt;attribute&gt;)</code> format,
where <code>&lt;attribute&gt;</code> is a valid name of the CSS style attribute.</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts
// ...
export class ClickmeDirective {
    // ...
    
    @HostBinding('style.background-color')
    background: string = 'lightblue';
}
</code></pre>
<p>Now the directive is painting its host element's background into light-blue.</p>
<p><img src="images/directives-input-03.png" alt="" /></p>
<p>This is how the rendered HTML looks like:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;div appclickme=&quot;&quot; class=&quot;click-area&quot; value=&quot;input value&quot; 
     style=&quot;background-color: rgb(173, 216, 230);&quot;&gt;
  Click me
&lt;/div&gt;
</code></pre>
<h4 id="binding-class-names"><a class="header" href="#binding-class-names">Binding Class Names</a></h4>
<p>Instead of binding single style attributes, you may want to operate CSS class names,
to be able providing external themes, or separating presentation layer from directive implementation.
It can be achieved by utilizing <code>@HostBinding('class.&lt;class-name&gt;')</code> where <code>&lt;class-name&gt;</code> is the name of the CSS class.</p>
<p>Note that having corresponding CSS class implementation is optional if you directive is not enforcing styles directly.
Developers can choose whether to implement or override the class, or leave defaults.</p>
<p>You can bind class names to the <code>boolean</code> values or expressions.
Angular appends provided CSS class name to the host element if the resulting value is <code>true</code>, and automatically removes it if value changes back to <code>false</code>.</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts
// ...

export class ClickmeDirective {
    // ...

    @HostBinding('class.is-selected')
    isSelected: boolean = true;
}
</code></pre>
<p>This is the initial template we have been using:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;div class=&quot;click-area&quot; appClickme&gt;
  Click me
&lt;/div&gt;
</code></pre>
<p>So this is how Angular renders component at run time.
Note the <code>class</code> value now has both <code>click-area</code> we defined manually, and <code>is-selected</code> class provided by the directive controller.</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;div appclickme=&quot;&quot; class=&quot;click-area is-selected&quot; value=&quot;input value&quot; 
     style=&quot;background-color: rgb(173, 216, 230);&quot;&gt;
  Click me
&lt;/div&gt;
</code></pre>
<p>Typically you are going to apply or change CSS classes of the host element as a response to the host events wired by <code>HostBinding</code> decorators.</p>
<p>For example, the directive can listen to mouse events and toggle <code>hovered</code> styles:</p>
<pre><code class="language-ts">// src/app/directives/clickme.directive.ts
// ...

export class ClickmeDirective { 
    // ...

    @HostBinding('class.is-hovered')
    isHovered: boolean = false;

    @HostListener('mouseenter')
    onMouseEnter() {
        this.isHovered = true;
        // other code if needed
    }

    @HostListener('mouseleave')
    onMouseLeave() {
        this.isHovered = false;
        // other code if needed
    }
}
</code></pre>
<p>Our directive toggles the <code>isHovered</code> property value upon mouse enter and leave,
but it does not directly change the way its host element looks.
Instead, you or developers that use your directive can optionally add a custom <code>is-hovered</code> CSS class
to alter how the element looks and behaves on mouse interaction.</p>
<p>The example below adds a thin dashed border to the element when a user hovers it:</p>
<pre><code class="language-css">/* src/app/app.component.css */

.is-hovered {
  border: 1px dashed darkblue;
}
</code></pre>
<p>You can now run the application and move the mouse cursor in and out of the click area.</p>
<p><img src="images/directives-hover-01.png" alt="" /></p>
<p>Of course, you can control hover styles in pure CSS.
The code above is more a simple demonstration of capabilities to give you more ideas
on what is possible with <code>HostListener</code> and <code>HostBinding</code> combined.</p>
<blockquote>
<p><strong>Source Code</strong></p>
<p>You can find the source code in the <strong><a href="https://github.com/DenysVuika/developing-with-angular/tree/master/angular/directives/directive-example">angular/directives/directive-example</a></strong> folder.</p>
</blockquote>
<h3 id="built-in-attribute-directives"><a class="header" href="#built-in-attribute-directives">Built-in Attribute Directives</a></h3>
<p>Angular comes with the following ready-to-use attribute directives:</p>
<ul>
<li><a href="#ngstyle">NgStyle</a>, updates an HTML element styles</li>
<li><a href="#ngclass">NgClass</a>, adds and removes CSS classes on an HTML element</li>
<li><strong>NgModel</strong>, provides two-way binding to Form elements, see <strong>Forms</strong> chapter for more details</li>
<li><a href="#ngnonbindable">NgNonBindable</a>, prevents content from being evaluated and compiled in templates</li>
</ul>
<h4 id="ngstyle"><a class="header" href="#ngstyle">NgStyle</a></h4>
<p>The <code>NgStyle</code> directive is used to modify CSS style attributes of the host element or component.</p>
<pre><code class="language-html">&lt;element [ngStyle]=&quot;OPTIONS&quot;&gt;
    ...
&lt;/element&gt;
</code></pre>
<p>Where <code>OPTIONS</code> is an object literal <code>NgStyle</code> that binds and maps properties to style attributes.
Object keys should represent style names with an optional <code>.&lt;unit&gt;</code> suffix, for example, <code>width.px</code>, <code>font-style.em</code>.</p>
<pre><code class="language-html">&lt;button [ngStyle]=&quot;{ 'border-width': '1px' }&quot;&gt;button 1&lt;/button&gt;
&lt;button [ngStyle]=&quot;{ 'border-width.px': '1' }&quot;&gt;button 2&lt;/button&gt;
&lt;button [ngStyle]=&quot;{
  'background-color': 'white',
  'border': '1px blue solid'
}&quot;&gt;button 3&lt;/button&gt;
</code></pre>
<p>You should see three buttons with custom styles once you run the application:</p>
<p><img src="images/directives-ngstyle-01.png" alt="" /></p>
<p>It is also possible to bind <code>ngStyle</code> to the component property.</p>
<pre><code class="language-html">&lt;input type=&quot;text&quot; value=&quot;hello world&quot; [ngStyle]=&quot;inputStyle&quot;&gt;
</code></pre>
<p>In this case, you declare object literal within the component class implementation, for example:</p>
<pre><code class="language-ts">// src/app/app.component.ts
// ...

export class AppComponent {
    // ...
    
    inputStyle = {
        'border': '1px green solid',
        'background-color': 'white',
        'color': 'blue'
    };
}
</code></pre>
<p>That allows you to compose styles based on some other conditions dynamically.</p>
<p><img src="images/directives-ngstyle-02.png" alt="Directives with NgStyle" /></p>
<blockquote>
<p><strong>Source Code</strong></p>
<p>You can find the source code in the <strong><a href="https://github.com/DenysVuika/developing-with-angular/tree/master/angular/directives/attribute-directives">angular/directives/attribute-directives</a></strong> folder.</p>
</blockquote>
<h4 id="ngclass"><a class="header" href="#ngclass">NgClass</a></h4>
<p>The <code>NgClass</code> directive allows binding CSS class names on an HTML element.</p>
<pre><code class="language-html">&lt;element [ngClass]=&quot;OPTIONS&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/element&gt;
</code></pre>
<p>Where the <code>OPTIONS</code> value can take one of the following formats:</p>
<ul>
<li>string expression (single or <code>space</code> delimited)</li>
<li>object literal</li>
<li>array</li>
</ul>
<h5 id="binding-to-string-expression-single"><a class="header" href="#binding-to-string-expression-single">Binding to String Expression (single)</a></h5>
<p>With this format you specify a string expression that corresponds to a CSS class name:</p>
<pre><code class="language-html">&lt;element [ngClass]=&quot;'class1'&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/element&gt;
</code></pre>
<h5 id="binding-to-string-expression-space-delimited"><a class="header" href="#binding-to-string-expression-space-delimited">Binding to String Expression (space delimited)</a></h5>
<p>You can also provide multiple class names per single <code>space</code> delimited string expression:</p>
<pre><code class="language-html">&lt;element [ngClass]=&quot;'class1 class2 class3'&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/element&gt;
</code></pre>
<h5 id="binding-to-object-literal"><a class="header" href="#binding-to-object-literal">Binding to Object Literal</a></h5>
<p>This format is very similar to that of <code>NgStyle</code> one.
All object keys are CSS class names and get added to host element only if value evaluates to a truthy value.
In a case of a non-truthy value, Angular removes class names from the host.</p>
<pre><code class="language-html">&lt;element [ngClass]=&quot;{
    'class1': true,
    'class2': false,
    'class3': true }&quot;&gt;
    &lt;!-- ... --&gt;
&lt;/element&gt;
</code></pre>
<h5 id="binding-to-array"><a class="header" href="#binding-to-array">Binding to Array</a></h5>
<p>Finally you can bind the <code>NgClass</code> directive to an array of class names:</p>
<pre><code class="language-html">&lt;element [ngClass]=&quot;['class1', 'class2', 'class3']&quot;&gt;
  &lt;!-- ... --&gt;
&lt;/element&gt;
</code></pre>
<p>In all the cases described above you can also bind directive options to underlying controller properties or methods:</p>
<pre><code class="language-html">&lt;!-- src/app/app.component.html --&gt;

&lt;element [ngClass]=&quot;currentClass&quot;&gt;&lt;!-- ... --&gt;&lt;/element&gt;
&lt;element [ngClass]=&quot;getClassObj()&quot;&gt;&lt;!-- ... --&gt;&lt;/element&gt;
&lt;element [ngClass]=&quot;getClassArr()&quot;&gt;&lt;!-- ... --&gt;&lt;/element&gt;
</code></pre>
<pre><code class="language-ts">// src/app/app.component.ts

export class MyComponent {

    currentClass: string = 'class1';

    getClassObj(): any {
      return {
        'class2': true,
        'class3': true
      };
    }

    getClassArr(): string[] {
      return [
        'class4',
        'class5'
      ];
    }
}
</code></pre>
<blockquote>
<p><strong>Source Code</strong></p>
<p>You can find the source code in the <strong><a href="https://github.com/DenysVuika/developing-with-angular/tree/master/angular/directives/attribute-directives">angular/directives/attribute-directives</a></strong> folder.</p>
</blockquote>
<h4 id="ngnonbindable"><a class="header" href="#ngnonbindable">NgNonBindable</a></h4>
<p>You use <code>NgNonBindable</code> directive to switch off Angular evaluating code or binding values for a particular element and its content.</p>
<p>For example if you want displaying source code:</p>
<pre><code class="language-html">&lt;h2&gt;NgNonBindable&lt;/h2&gt;
&lt;pre&gt;
  You can bind &lt;strong&gt;title&lt;/strong&gt; property like following:
  &lt;code ngNonBindable&gt;
    &amp;lt;div&amp;gt;{{title}}&amp;lt;/div&amp;gt;
  &lt;/code&gt;
&lt;/pre&gt;
</code></pre>
<p>Which renders to the following if you run the application:</p>
<p><img src="images/directives-non-bindable.png" alt="" /></p>
<p>Please note that the <code>NgNonBindable</code> is a very specific directive, and typically you are not going to use it often, if at all.</p>
<blockquote>
<p><strong>Source Code</strong></p>
<p>You can find the source code in the &quot;<a href="https://github.com/DenysVuika/developing-with-angular/tree/master/angular/directives/attribute-directives">angular/directives/attribute-directives</a>&quot; folder.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="ch08-01-introduction-to-directives.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="ch08-03-structural-directives.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="ch08-01-introduction-to-directives.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="ch08-03-structural-directives.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'G-23X2CQXZ48', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
